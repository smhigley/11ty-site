<!doctype html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="alternate" type="application/rss+xml" title="Sarah Higley" href="https://sarahmhigley.com/feed.xml" />
  <title>Grids Part 2: Semantics | Sarah Higley</title>
  <link rel="canonical" href="https://sarahmhigley.com/writing/grids-part2/" />
  <link rel="icon" type="image/png" href="https://sarahmhigley.com/assets/avatar-round.png">
  <link rel="preload" href="https://fonts.gstatic.com/s/josefinslab/v10/lW-5wjwOK3Ps5GSJlNNkMalnqg6vBMjoPg.woff2" as="font" type="font/woff2" crossorigin>

  <meta property="og:site_name" content="Sarah Higley" />
  <meta property="og:title" content="Grids Part 2: Semantics | Sarah Higley" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sarahmhigley.com/writing/grids-part2/" />
  <meta name="twitter:creator" content="@codingchaos" />
  <meta property="og:image" content="https://sarahmhigley.com/assets/avatar.png" />
  <meta name="twitter:image" content="https://sarahmhigley.com/assets/avatar.png" />
  <meta property="og:image:alt" content="Illustrated avatar of Sarah" />
  <meta name="twitter:image:alt" content="Illustrated avatar of Sarah" />

  
    <meta name="description" content="A dive into table and grid semantics, why they matter so much to screen readers, and your options for repairing or augmenting basic table markup." />
    <meta name="twitter:description" content="A dive into table and grid semantics, why they matter so much to screen readers, and your options for repairing or augmenting basic table markup." />
    <meta property="og:description" content="A dive into table and grid semantics, why they matter so much to screen readers, and your options for repairing or augmenting basic table markup." />
  

  <style type="text/css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.property,.token.tag,.token.constant,.token.symbol,.token.deleted{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#abe338}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.regex,.token.important{color:gold}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast: active){code[class*=language-],pre[class*=language-]{color:windowText;background:window}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:normal}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:bold}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:normal}}@font-face{font-family:"Josefin Slab";font-style:normal;font-weight:400;font-display:fallback;src:local("Josefin Slab Regular"),local("JosefinSlab-Regular"),url(https://fonts.gstatic.com/s/josefinslab/v10/lW-5wjwOK3Ps5GSJlNNkMalnqg6vBMjoPg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html{font-size:calc(1em + 0.5vw)}body{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;word-wrap:break-word}h1,h2,h3,h5,.h1,.h2,.h3,.h5{font-family:"Josefin Slab",Garamond,serif;font-weight:bold;margin:0 0 1.5rem}h1,.h1{font-size:2.5rem;line-height:1.15}h2,.h2{font-size:1.75rem;line-height:1.2}h3,.h3{font-size:1.5rem;line-height:1.2}h4,.h4{font-size:1.2rem;font-weight:bold}h6,.h6{font-weight:bold}a{color:var(--link);text-decoration:underline}a:focus{outline:3px dashed var(--link);outline-offset:3px}blockquote{border-left:4px solid var(--accent-faded);font-size:1.1rem;line-height:1.6;margin:1.5rem 0;padding:.5rem 2rem}blockquote p:last-child{margin-bottom:0}code{background:var(--background-faded);border-radius:.2em;padding:.1em .2em}img{max-width:100%}figure{background:var(--background-faded);margin:0 0 1.5rem;padding:.5rem;width:max-content;max-width:100%}figcaption{font-size:.8em}.video-embed{margin-bottom:1.5rem;max-width:100%}ul,ol,p,pre,.table-wrapper{margin:0 0 1.5rem}ul li,ol li{margin:0 0 .5rem}.table-wrapper{max-width:100%;overflow-x:scroll}.table{border:1px solid var(--border);border-collapse:collapse;border-spacing:0}.table tr,.table .tr{background-color:var(--background);border-bottom:1px solid var(--border)}.table tr:nth-child(even),.table .tr:nth-child(even){background-color:var(--background-faded)}.table th,.table .th{text-align:left}.table th,.table .th,.table td,.table .td{border-left:1px solid var(--border);padding:.5em 1em}.table th:first-child,.table .th:first-child,.table td:first-child,.table .td:first-child{border-left:0}.support-table .false{background-color:var(--background-failure)}.support-table .true{background-color:var(--background-success)}:root{--purple: #3c128f;--dark-purple: #28164a;--light-purple: #9d87ca;--off-black: #3d334d;--dark-grey: #666;--grey: #9d9d9d;--light-grey: #ccc;--off-white: #ebecec;--dark-green: #03483e;--green: #066F5E;--light-green: #caf4c6;--dark-red: #4d010f;--red: #8F1226;--light-red: #f1cdd3;--accent: var(--purple);--accent-light: var(--light-purple);--accent-faded: var(--light-grey);--background: #fff;--header-background: #fff;--background-inverse: var(--dark-purple);--background-faded: var(--off-white);--background-success: var(--light-green);--background-failure: var(--light-red);--border: var(--dark-grey);--border-accent: var(--dark-purple);--text: #000;--text-inverse: #fff;--text-faded: var(--dark-grey);--text-success: var(--green);--text-failure: var(--red);--link: var(--purple)}@media(prefers-color-scheme: dark){:root{--accent: var(--light-purple);--accent-light: var(--dark-purple);--accent-faded: var(--dark-grey);--background: #131313;--header-background: #1a1324;--background-inverse: var(--light-purple);--background-faded: var(--off-black);--background-success: var(--dark-green);--background-failure: var(--dark-red);--border: var(--dark-grey);--border-accent: #000;--text: var(--off-white);--text-inverse: #000;--text-faded: var(--light-grey);--text-success: var(--green);--text-failure: var(--red);--link: var(--light-purple)}}body{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--background);color:var(--text)}*,*::before,*::after{box-sizing:inherit}.container{display:flex;min-height:100vh}@media screen and (max-width: 800px){.container{display:block}}.header{flex:0 0 260px;border-right:3px solid var(--border-accent);min-height:100%;outline:10px solid var(--accent-light);padding:1em;background-color:var(--header-background)}@media screen and (max-width: 800px){.header{border-bottom:3px solid var(--border-accent);border-right:none;margin-bottom:1.5rem}}.header-minimal{border-bottom:3px solid var(--border-accent);padding:1em}.header-minimal .back-link{width:max-content}.profile-info{border-bottom:1px solid var(--accent-faded);font-family:"Josefin Slab",Garamond,serif;font-size:1.5rem;line-height:1.2;margin-bottom:1rem;padding-bottom:1rem;text-transform:uppercase;text-align:center}.profile-info img{display:block;margin:0 auto;max-width:250px;width:100%}.main{flex:1 1 auto;max-width:1000px;overflow-x:auto;padding:1em 1em 1em 2.5em}.main-minimal{padding:1em 1em 1em 2.5em}.main-nav ul{list-style-type:none;margin:0;padding:0}@media screen and (max-width: 800px){.main-nav ul{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}}.main-nav li{margin:0}@media screen and (max-width: 800px){.main-nav li{margin:0 .5rem}}.main-nav a{color:var(--text);display:inline-block;font-weight:bold;overflow:hidden;padding:0 5px 6px;position:relative;text-decoration:none;text-transform:uppercase}.main-nav a::after{content:"";position:absolute;left:0;bottom:0;width:200%;height:5px;background:var(--accent-faded);background:linear-gradient(90deg, var(--accent) 0%, var(--accent) 50%, var(--accent-faded) 50%, var(--accent-faded) 100%);transform:translateX(-50%);transition:transform .3s ease-out}.main-nav a:hover::after,.main-nav a.active::after{transform:translateX(0)}.item-list{list-style-type:none;padding:0}.item-list .meta{font-size:.8rem;margin:0 0 .5rem}.meta{display:block;color:var(--text-faded);margin:-1.5rem 0 1.5rem}.note{display:block;background-color:var(--background-faded);border-left:4px solid var(--text-success);font-size:1.1rem;margin:1.5rem 0;padding:.5rem 2rem 1rem 1.5rem}.note.alert{background-color:var(--background-failure);border-left-color:var(--text-failure)}.note p:last-child{margin-bottom:0}.note-title{color:var(--text-success);font-weight:bold}.alert .note-title{color:var(--text-failure)}.post-footer{border-top:1px solid var(--border);display:flex;justify-content:space-between;padding:1em}.back-link,.top-link{align-items:center;background-color:var(--background-faded);border:1px solid var(--border);border-radius:3px;color:var(--text);display:flex;padding:.5em 1em .5em 1.25em;text-decoration:none}.back-link:hover,.back-link:focus,.top-link:hover,.top-link:focus{background-color:var(--background-inverse);color:var(--text-inverse)}.back-link::before,.top-link::before{content:"";border-left:2px solid currentColor;border-bottom:2px solid currentColor;display:inline-block;height:.5em;transform:translateX(-0.25em) rotate(45deg);width:.5em}.top-link::before{transform:translateX(-0.4em) rotate(135deg)}/*# sourceMappingURL=site.css.map */
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="profile-info">
        <img src="/assets/sarah-avatar.svg" role="img" alt="Illustrated avatar of Sarah with a cat" class="profile-pic">
        Sarah Higley
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="/" >Home</a></li>
          <li><a href="/writing" class="active" aria-current="page">Writing</a></li>
          <li><a href="/speaking"  >Speaking</a></li>
        </ul>
      </nav>
    </header>

    <main class="main">
      <h1 class="page-title" id="page-top">Grids Part 2: Semantics</h1>

      
  <div class="meta">January 7, 2021</div>
  <p>This is part 2 in a series about ARIA grids (not at all related to CSS grids 🙃)</p>
<p>In the <a href="/writing/grids-part1">first post of this grids series</a>, I wrote that the defining feature of grids and tables is that they present two-dimensional relationships in a set of data. Or, put another way, they are designed to make it easy to skim both row and column relationships.</p>
<p>Row and column relationships are handled visually by lining up each cell horizontally with other cells in the same row, and vertically with other cells in the same column.</p>
<p><img src="/writing/assets/grid-row-col-highlight.png" alt="Screenshot of a table showing marine mammals, with the row and column for the center cell visually highlighted. This table exists on the demo page, linked in the last section of the article."></p>
<p>Screen readers present the same relationships non-visually with a number of different UX features that can vary by screen reader. These generally include:</p>
<ul>
<li>providing custom shortcuts to navigate by column or by row</li>
<li>reading row- and column-header information when changing rows or columns</li>
<li>reading <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement/rowIndex">row index</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableCellElement#Properties">column index</a> information</li>
<li>providing a custom shortcut to read row- or column-headers on demand</li>
</ul>
<figure>
<div class="video-embed"><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/NpqwyocK0BU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%;"></iframe></div></div>
<figcaption><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + arrow keys are used to move first across a row and then down a column with NVDA, making it easy to navigate and understand table structure.</figcaption>
</figure>
<aside class="note info">
  <span class="note-title">Note:</span>
<p>This behavior is something that screen readers provide as part of their own UX, and cannot be recreated manually by a web developer.</p>
</aside>
<p>Table and grid semantics boil down to creating a programmatic definition of row and column relationships. Screen readers are able to provide their table and grid experience <strong>only</strong> if the software can parse the row and column relationships that are conveyed visually.</p>
<p>Once more for emphasis:</p>
<p><em>Screen readers are able to provide their table and grid experience only if the software can parse the row and column relationships that are conveyed visually.</em></p>
<p>If a developer were to code a collection of plain <code>&lt;div&gt;</code>s to visually look like a table, the resulting non-visual experience would be a bit like if someone had Dali paint a grid, then gave that painting to you and told you that your job depended on you being able to read it.</p>
<figure>
<img src="/writing/assets/dali-melting-watch.jpg" alt="Dali's Melting Watch painting, showing a distorted watch with the numbers and metal pieces flying off.">
<figcaption>Here is the timetable for trains leaving today. Make sure you get to the correct platform before your train leaves.</figcaption></figure>
<h2 id="structural-table-and-grid-semantics">Structural table and grid semantics</h2>
<p>The foundation of table semantics is creating a relationship between cells in the same row, and between cells in the same column. This can only be done with good HTML structure.</p>
<p>In order for a visual row of cells to also behave like a row for screen readers, those cells <em>must</em> all be children of the same row. And in order for a visual column of cells to also behave like a column, they <em>must</em> all have the same child index within their parent row.</p>
<p>Sometimes legacy code or some outside requirement means that you end up working with a less-than-perfect DOM structure. Maybe you’re stuck using <code>&lt;div&gt;</code>s, and there happen to be too many of them. That particular problem -- too many extra elements -- can be fixed, but out-of-order cells or incorrect groupings can only be fixed by re-ordering the HTML.</p>
<p>ARIA can help prune extra non-table nodes from the accessibility tree and it can change what a screen reader says when it encounters a specific cell, but only the structure of the HTML itself can enable necessary screen reader interactions and shortcuts within a table.</p>
<h3 id="practical-example-1%3A-non-table-nodes">Practical Example 1: non-table nodes</h3>
<p>Here is some sample table code that includes both extra non-table elements and checkboxes outside of grid cells that illustrates what I’m talking about. This particular example uses ARIA semantics rather than <code>&lt;table&gt;</code> elements to demonstrate the effect of improper table structure. Don't worry too much about the specific roles right now; we'll cover those later.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Animals at the Seattle Aquarium<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select all rows<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Animal type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select sea otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sea Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select river otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>River Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select harbor seal row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Harbor Seal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>If you run NVDA on this table markup in Firefox, it chokes in two separate ways:</p>
<ol>
<li>on the checkbox that exists outside of a cell</li>
<li>on the extra <code>&lt;section&gt;</code> elements.</li>
</ol>
<p>See if you can catch both problems in this video, or by directly testing the <a href="/examples/grid-semantics">examples page</a>.</p>
<div class="video-embed"><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/Qmxo_pLFLb8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%;"></iframe></div></div>
<p>Different browsers do different amounts of error correction for authoring errors in table markup, so trying this same markup in a different browser and screen reader pairing may get you different results. If a table works fine in one screen reader but fails in another, it might be a screen reader or browser bug, but it might also be a problem with the markup.</p>
<p>The best way to ensure every screen reader’s table UX works properly is to construct a clean accessibility tree. I wrote about using role=&quot;presentation&quot; or role=&quot;none&quot; to fix the accessibility tree of composite widgets like tables and grids in a previous blog post, <a href="/writing/roles-and-relationships">Roles and Relationships</a>.</p>
<p>Right now, the accessibility tree for that table code looks like this:</p>
<p><img src="/writing/assets/grids2-incorrect-table.png" alt="Screenshot of the Firefox accessibility tree for the table markup, showing extra section nodes around the second cell, and a checkbutton directly under each row."></p>
<p>If we apply <code>role=&quot;presentation&quot;</code> to all the <code>&lt;section&gt;</code> elements, we end up with this accessibility tree:</p>
<p><img src="/writing/assets/grids2-incorrect-table2.png" alt="Screenshot of the Firefox accessibility tree for the updated table markup, showing no section nodes. Still a checkbutton problem though."></p>
<p>There's still one problem: the checkboxes are still not reachable with table navigation, since they're not within a table cell. When creating tables and grids, <em>all</em> content must be contained within the cells. To fix that, we need to wrap the checkbox in an element with <code>role=&quot;cell&quot;</code>:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Animals at the Seattle Aquarium<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select all rows<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Animal type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select sea otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>presentation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sea Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select river otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>presentation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>River Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select harbor seal row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animal-cell<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>presentation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Harbor Seal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>And that's all that's needed to fix the table's accessibility tree so that screen readers can navigate through rows and columns, and properly associate cells with their column headers.</p>
<h3 id="aria-table-and-grid-roles">ARIA table and grid roles</h3>
<h4>Tables</h4>
<p>The previous example showed the role hierarchy needed to build a table with ARIA. There are roughly two reasons you might need to use ARIA roles to construct a semantic table:</p>
<ol>
<li>For whatever reason, you cannot use HTML <code>&lt;table&gt;</code> elements</li>
<li>You use HTML table elements, but you need to override the <a href="https://adrianroselli.com/2018/02/tables-css-display-properties-and-aria.html">table's CSS display property</a>.</li>
</ol>
<p>In both cases, you would need to explicitly declare table semantics with ARIA for them to be recognized by screen readers.</p>
<p>The available ARIA roles for tables are these:</p>
<ul>
<li><code>table</code>: the top-level container role, equivalent to the <code>&lt;table&gt;</code> element
<ul>
<li><code>rowgroup</code> (optional): can denote a related group of rows, equivalent to the <code>&lt;thead&gt;</code> and <code>&lt;tbody&gt;</code> elements
<ul>
<li><code>row</code>: groups cells into rows, equivalent to the <code>&lt;tr&gt;</code> element
<ul>
<li><code>columnheader</code>: used to create a header cell that labels all body cells within the same column, equivalent to <code>&lt;th scope=&quot;col&quot;&gt;</code></li>
<li><code>rowheader</code>: used to create a header cell that labels all cells within the same row, equivalent to <code>&lt;th scope=&quot;row&quot;&gt;</code></li>
<li><code>cell</code>: all table content must be in one of these, equivalent to the <code>&lt;td&gt;</code> element</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>If you use semantic HTML table elements and do not override the CSS <code>display</code> property of any of them, then you do not need to use any ARIA roles.</p>
<h4>Grids</h4>
<p>Grid semantics differ slightly from table semantics, and always need to be explicitly declared. I went over why you might want grid semantics vs. table semantics in the <a href="/writing/grids-part1">first post in the grid series</a>. Assuming you do, in fact, need a grid, these are the available ARIA roles:</p>
<ul>
<li><code>grid</code>: the top-level container role
<ul>
<li><code>rowgroup</code> (optional): can denote a related group of rows, equivalent to the <code>&lt;thead&gt;</code> and <code>&lt;tbody&gt;</code> elements
<ul>
<li><code>row</code>: groups cells into rows, equivalent to the <code>&lt;tr&gt;</code> element
<ul>
<li><code>columnheader</code>: used to create a header cell that labels all body cells within the same column, equivalent to <code>&lt;th scope=&quot;col&quot;&gt;</code></li>
<li><code>rowheader</code>: used to create a header cell that labels all cells within the same row, equivalent to <code>&lt;th scope=&quot;row&quot;&gt;</code></li>
<li><code>gridcell</code>: all grid content must be in one of these, equivalent to a <code>&lt;td&gt;</code> within a grid</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>You may already have noticed that these are identical to the ARIA table roles, with the exception of <code>grid</code> and <code>gridcell</code>.</p>
<p>The easiest way to create a grid is to use HTML table elements, and add <code>role=&quot;grid&quot;</code> to the top-level <code>&lt;table&gt;</code>. No other roles are needed if the table is otherwise semantically correct and the CSS <code>display</code> properties are not overridden.</p>
<p>If that is not the case, all other roles must also be explicitly declared, just as with table semantics. Using <code>rowgroup</code> is optional for both tables and grids, and can be used to group header rows vs. body rows. It can also be used to group related rows within the table or grid body.</p>
<figure>
  <img src="/writing/assets/grids-grouped-rows.png" alt="Screenshot of table of aquarium animals, this time with two groups of rows under mammal and cephalopod categories">
  <figcaption>An example of when you might use named rowgroups within a table or grid body</figcaption>
</figure>
<h4>A quick note on CSS display properties</h4>
<p>Despite their names, the CSS <code>display: table</code> and <code>display: grid</code> styles are not related to ARIA <code>table</code> and <code>grid</code> semantics, and do not (or should not) create table and grid nodes in the accessibility tree.</p>
<p>I've also mentioned above that overriding the default CSS <code>display</code> of table elements (including <code>&lt;tr&gt;</code> and <code>&lt;td&gt;</code> elements) will remove their default semantics. Adrian Roselli's <a href="https://adrianroselli.com/2020/10/a11yto-conf-css-display-properties-versus-html-semantics.html">CSS display properties vs. HTML semantics</a> and Steve Faulkner's <a href="https://developer.paciellogroup.com/blog/2018/03/short-note-on-what-css-display-properties-do-to-table-semantics/">Short note on what CSS display properties do to table semantics</a> include more specifics on how that happens. The TL:DR; is if you do this, you need to use <em>all</em> the ARIA table or grid roles instead of relying on HTML to handle screen reader accessibility by default.</p>
<h2 id="supplementary-table-and-grid-semantics">Supplementary table and grid semantics</h2>
<h3 id="lazy-loading-rows-or-columns">Lazy-loading rows or columns</h3>
<p>There are four ARIA attributes available for both tables and grids that can be extremely useful if you are lazy-loading rows in a very large table or grid. For example, you could have a table that contains 500 rows total, but you only render 25 in the DOM at any given time to improve performance. If you do this without using ARIA, a screen reader will always announce the rendered rows as 1-25 out of 25, even if the user is really on rows 150-175 out of 500.</p>
<aside class="note info">
  <span class="note-title">Note:</span>
<p>Lazy-loaded grids can also be referred to as virtualized grids or on-demand grids. Those terms all mean the same thing: new content is only added to the DOM as the user scrolls.</p>
</aside>
<p>To fix this, you can use these two properties:</p>
<ul>
<li><code>aria-rowcount=&quot;500&quot;</code> on the <code>&lt;table&gt;</code> or <code>role=&quot;table/grid&quot;</code> element</li>
<li><code>aria-rowindex</code> on each <code>&lt;tr&gt;</code> or <code>role=&quot;row&quot;</code> element.</li>
</ul>
<p>If you lazy-load columns as well as rows, you can use these properties as well:</p>
<ul>
<li><code>aria-colcount</code> on the <code>&lt;table&gt;</code> or <code>role=&quot;table/grid&quot;</code> element</li>
<li><code>aria-colindex</code> on each <code>&lt;td&gt;</code> or <code>role=&quot;cell/gridcell&quot;</code> element</li>
</ul>
<p>None of these attributes are necessary if all the rows and columns are present in the DOM at all times. They also are not necessary if your grid has multiple pages, but does not dynamically load content by scrolling.</p>
<h3 id="practical-example-2%3A-out-of-order-rows">Practical example 2: out-of-order rows</h3>
<p>It is possible to use CSS to style elements to visually appear in a different order than they are defined in the DOM. You can brute-force this with <code>position: absolute;</code>, or use reordering options that come with <code>display: grid;</code> and <code>display: flex;</code>.</p>
<p>Screen readers do not follow the visual order, and will always rely on DOM order, which translates to the order in the accessibility tree. This holds true for tables and grids, despite the <code>aria-rowindex</code> and <code>aria-colindex</code> properties.</p>
<p>To illustrate, let's add some <code>aria-rowindex</code> and <code>aria-rowcount</code> properties to the table from earlier, and style so the visual order matches the declared <code>aria-rowindex</code> order. Here is the HTML:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Animals at the Seattle Aquarium<span class="token punctuation">"</span></span> <span class="token attr-name">aria-rowcount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name">aria-rowindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select all rows<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Animal type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name">aria-rowindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select sea otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>River Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name">aria-rowindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select river otter row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sea Otter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name">aria-rowindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row-selection<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select harbor seal row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Harbor Seal<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>And here is how NVDA treats it:</p>
<figure>
<div class="video-embed"><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/vgjopX55na4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%;"></iframe></div></div>
<figcaption>NVDA will still move through rows following DOM order rather than visual order, but will read the defined row index, resulting in a disorienting experience.</figcaption></figure>
<p>The most important takeaway here is the <code>aria-rowcount</code>, <code>aria-rowindex</code>, <code>aria-colcount</code>, and <code>aria-colindex</code> properties will affect what a screen reader says when encountering a specific element, but will not change any other behavior or navigation. This is also generally true of most ARIA states and properties.</p>
<p>I realize this example may seem fairly contrived, but there is at least one major grid library out there that handles lazy-loading by re-using and visually re-ordering the DOM elements used for rows as the user scrolls through the grid. The result is the visual order does not match the DOM order, and the screen reader accessibility is entirely broken.</p>
<p>Accessible lazy-loaded content takes more than just these four ARIA properties, which is why there will be an entire article about on-demand grids later, hopefully!</p>
<h3 id="complex-headers">Complex headers</h3>
<p>Sometimes column headers and row headers span multiple columns or rows, such as in this table:</p>
<p><img src="/writing/assets/grids-multiheader.png" alt="Screenshot of a 4-column table with the same animal data. It has top-level headers of &quot;Animal&quot; and &quot;Tracking&quot;, and sub-headers of Species, Type, Number, and Location"></p>
<p>If you are using table elements, the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#Attributes"><code>colspan</code> and <code>rowspan</code> attributes</a> have you covered. These work even if you are using ARIA to re-assert <code>role=&quot;columnheader&quot;</code> or <code>role=&quot;rowheader&quot;</code>.</p>
<p>If, however, you are using <code>&lt;div&gt;</code>s or other non-table elements, the <code>aria-colspan</code> and <code>aria-rowspan</code> correspond directly to the <code>colspan</code> and <code>rowspan</code> attributes.</p>
<h3 id="miscellaneous-other-table-and-grid-aria">Miscellaneous other table and grid ARIA</h3>
<p>We've covered all the table- and grid-specific ARIA attributes, but there are some others you might find useful, perhaps along with a <a href="https://benmyers.dev/blog/aria-labels-and-descriptions/">good overview of ARIA labels and descriptions</a>:</p>
<ul>
<li><code>aria-label</code> or <code>aria-labelledby</code> on the table or grid element: these corresond to using the <code>&lt;caption&gt;</code> element in an HTML <code>&lt;table&gt;</code>, and are a good idea to use to name the table or grid, particularly if there is more than one table or grid in the page.</li>
<li><code>aria-describedby</code> on the table or grid element: if you want to associate a longer supplementary description in addition to the name</li>
<li><code>aria-label</code> or <code>aria-labelledby</code> on the rowgroup element: if you have multiple rowgroups in the table body, adding a name to each is a good idea</li>
<li><code>aria-activedescendant</code> on the grid element (not on tables): we'll go over this in the next article on keyboard interaction</li>
</ul>
<p>There are other supported attributes that I'm not going to cover that are purely use-at-your-own risk, like <code>aria-selected</code> on gridcells. Only use those if you're really sure you know what you're doing.</p>
<p>If you've made a habit of reading the supported attributes table in the ARIA spec, you may have noticed that rows support the following attributes:</p>
<ul>
<li><code>aria-expanded</code></li>
<li><code>aria-level</code></li>
<li><code>aria-posinset</code></li>
<li><code>aria-setsize</code></li>
</ul>
<p>These are a bit of a gotcha &quot;supported&quot; status in the ARIA spec, since they're only supported on rows within treegrids, and are not supported in either grids or tables. For more on treegrids, see the next section.</p>
<h3 id="treegrids">Treegrids</h3>
<p>Not today, Satan.</p>
<h2 id="wrap-up-and-further-reading">Wrap-up and further reading</h2>
<p>Table and grid semantics are... not simple, clearly. The regular old been-around-the-block <code>&lt;table&gt;</code>, <code>&lt;tr&gt;</code>, and <code>&lt;td&gt;</code> elements do a lot of heavy lifting under the hood. There could easily be another article's worth of information on how all of this translates to accessibility APIs, if one wanted to really get in the weeds.</p>
<p>I used the NVDA screen reader for the recorded demos, but all Windows screen readers have very similar table interactions (they even all use Ctrl + Alt + arrow keys). VoiceOver on macOS uses different keyboard interactions, but also presents row and column information. You can try out the demos (plus a few other examples) with a screen reader of your choice on the <a href="/examples/grid-semantics">grid semantics demo page</a>.</p>
<p>This article and the previous one have focused about equally on both tables and grids. The next article on keyboard interaction will focus solely on grids, and hopefully be finished a bit faster than this article's 6-month time frame.</p>
<p>Finally, more eloquent people have already written about table semantics in different and helpful ways. Here are some of those articles:</p>
<ul>
<li><a href="https://inclusive-components.design/data-tables/">Data table design pattern</a> - Heydon Pickering</li>
<li><a href="https://developer.paciellogroup.com/blog/2014/10/notes-on-fixing-incorrect-table-structure-using-aria/">A practical example of fixing a broken table with ARIA</a> - Steve Faulkner</li>
<li><a href="https://adrianroselli.com/2018/02/tables-css-display-properties-and-aria.html">Tables, CSS Display Properties, and ARIA</a> - Adrian Roselli (he also has other worthwhile articles related to table semantics on his site)</li>
<li><a href="https://tink.uk/accessible-svg-tables/">A practical example of creating a semantic table in SVG</a> - Léonie Watson</li>
</ul>


  <div class="post-footer">
    <a href="/writing" class="back-link">All Posts</a>
    <a href="#page-top" class="top-link">Back to top</a>
  </div>

    </main>
  </div>
</body>
</html>
