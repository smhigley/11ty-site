<!doctype html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="alternate" type="application/rss+xml" title="Sarah Higley" href="https://sarahmhigley.com/feed.xml" />
  <title>forced-color-adjust: none is an unavoidable foot gun | Sarah Higley</title>
  <link rel="canonical" href="https://sarahmhigley.com/writing/forced-color-adjust-none/" />
  <link rel="icon" type="image/png" href="https://sarahmhigley.com/assets/avatar-round.png">
  <link rel="preload" href="https://fonts.gstatic.com/s/josefinslab/v10/lW-5wjwOK3Ps5GSJlNNkMalnqg6vBMjoPg.woff2" as="font" type="font/woff2" crossorigin>

  <meta property="og:site_name" content="Sarah Higley" />
  <meta property="og:title" content="forced-color-adjust: none is an unavoidable foot gun | Sarah Higley" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sarahmhigley.com/writing/forced-color-adjust-none/" />
  <meta name="twitter:creator" content="@codingchaos" />
  <meta property="og:image" content="https://sarahmhigley.com/assets/avatar.png" />
  <meta name="twitter:image" content="https://sarahmhigley.com/assets/avatar.png" />
  <meta property="og:image:alt" content="Illustrated avatar of Sarah" />
  <meta name="twitter:image:alt" content="Illustrated avatar of Sarah" />

  
    <meta name="description" content="A very long treatise on why text backplates were a bad idea. Most of the time." />
    <meta name="twitter:description" content="A very long treatise on why text backplates were a bad idea. Most of the time." />
    <meta property="og:description" content="A very long treatise on why text backplates were a bad idea. Most of the time." />
  

  <style type="text/css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.property,.token.tag,.token.constant,.token.symbol,.token.deleted{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#abe338}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.regex,.token.important{color:gold}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast: active){code[class*=language-],pre[class*=language-]{color:windowText;background:window}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:normal}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:bold}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:normal}}@font-face{font-family:"Josefin Slab";font-style:normal;font-weight:400;font-display:fallback;src:local("Josefin Slab Regular"),local("JosefinSlab-Regular"),url(https://fonts.gstatic.com/s/josefinslab/v10/lW-5wjwOK3Ps5GSJlNNkMalnqg6vBMjoPg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}html{font-size:calc(1em + 0.5vw)}body{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;word-wrap:break-word}h1,h2,h3,h5,.h1,.h2,.h3,.h5{font-family:"Josefin Slab",Garamond,serif;font-weight:bold;margin:0 0 1.5rem}h1,.h1{font-size:2.5rem;line-height:1.15}h2,.h2{font-size:1.75rem;line-height:1.2}h3,.h3{font-size:1.5rem;line-height:1.2}h4,.h4{font-size:1.2rem;font-weight:bold}h6,.h6{font-weight:bold}a{color:var(--link);text-decoration:underline}a:focus{outline:3px dashed var(--link);outline-offset:3px}blockquote{border-left:4px solid var(--accent-faded);font-size:1.1rem;line-height:1.6;margin:1.5rem 0;padding:.5rem 2rem}blockquote p:last-child{margin-bottom:0}code{background:var(--background-faded);border-radius:.2em;padding:.1em .2em}img{max-width:100%}figure{background:var(--background-faded);margin:0 0 1.5rem;padding:.5rem;width:max-content;max-width:100%}figcaption{font-size:.8em}.video-embed{margin-bottom:1.5rem;max-width:100%}ul,ol,p,pre,.table-wrapper{margin:0 0 1.5rem}ul li,ol li{margin:0 0 .5rem}.table-wrapper{max-width:100%;overflow-x:scroll}.table{border:1px solid var(--border);border-collapse:collapse;border-spacing:0}.table tr,.table .tr{background-color:var(--background);border-bottom:1px solid var(--border)}.table tr:nth-child(even),.table .tr:nth-child(even){background-color:var(--background-faded)}.table th,.table .th{text-align:left}.table th,.table .th,.table td,.table .td{border-left:1px solid var(--border);padding:.5em 1em}.table th:first-child,.table .th:first-child,.table td:first-child,.table .td:first-child{border-left:0}.support-table .false{background-color:var(--background-failure)}.support-table .true{background-color:var(--background-success)}:root{--purple: #3c128f;--dark-purple: #28164a;--light-purple: #9d87ca;--off-black: #3d334d;--dark-grey: #666;--grey: #9d9d9d;--light-grey: #ccc;--off-white: #ebecec;--dark-green: #03483e;--green: #066F5E;--light-green: #caf4c6;--dark-red: #4d010f;--red: #8F1226;--light-red: #f1cdd3;--accent: var(--purple);--accent-light: var(--light-purple);--accent-faded: var(--light-grey);--background: #fff;--header-background: #fff;--background-inverse: var(--dark-purple);--background-faded: var(--off-white);--background-success: var(--light-green);--background-failure: var(--light-red);--border: var(--dark-grey);--border-accent: var(--dark-purple);--text: #000;--text-inverse: #fff;--text-faded: var(--dark-grey);--text-success: var(--green);--text-failure: var(--red);--link: var(--purple)}@media(prefers-color-scheme: dark){:root{--accent: var(--light-purple);--accent-light: var(--dark-purple);--accent-faded: var(--dark-grey);--background: #131313;--header-background: #1a1324;--background-inverse: var(--light-purple);--background-faded: var(--off-black);--background-success: var(--dark-green);--background-failure: var(--dark-red);--border: var(--dark-grey);--border-accent: #000;--text: var(--off-white);--text-inverse: #000;--text-faded: var(--light-grey);--text-success: var(--green);--text-failure: var(--red);--link: var(--light-purple)}}body{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--background);color:var(--text)}*,*::before,*::after{box-sizing:inherit}.container{display:flex;min-height:100vh}@media screen and (max-width: 800px){.container{display:block}}.header{flex:0 0 260px;border-right:3px solid var(--border-accent);min-height:100%;outline:10px solid var(--accent-light);padding:1em;background-color:var(--header-background)}@media screen and (max-width: 800px){.header{border-bottom:3px solid var(--border-accent);border-right:none;margin-bottom:1.5rem}}.header-minimal{border-bottom:3px solid var(--border-accent);padding:1em}.header-minimal .back-link{width:max-content}.profile-info{border-bottom:1px solid var(--accent-faded);font-family:"Josefin Slab",Garamond,serif;font-size:1.5rem;line-height:1.2;margin-bottom:1rem;padding-bottom:1rem;text-transform:uppercase;text-align:center}.profile-info img{display:block;margin:0 auto;max-width:250px;width:100%}.main{flex:1 1 auto;max-width:1000px;overflow-x:auto;padding:1em 1em 1em 2.5em}.main-minimal{padding:1em 1em 1em 2.5em}.main-nav ul{list-style-type:none;margin:0;padding:0}@media screen and (max-width: 800px){.main-nav ul{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}}.main-nav li{margin:0}@media screen and (max-width: 800px){.main-nav li{margin:0 .5rem}}.main-nav a{color:var(--text);display:inline-block;font-weight:bold;overflow:hidden;padding:0 5px 6px;position:relative;text-decoration:none;text-transform:uppercase}.main-nav a::after{content:"";position:absolute;left:0;bottom:0;width:200%;height:5px;background:var(--accent-faded);background:linear-gradient(90deg, var(--accent) 0%, var(--accent) 50%, var(--accent-faded) 50%, var(--accent-faded) 100%);transform:translateX(-50%);transition:transform .3s ease-out}.main-nav a:hover::after,.main-nav a.active::after{transform:translateX(0)}.item-list{list-style-type:none;padding:0}.item-list .meta{font-size:.8rem;margin:0 0 .5rem}.meta{display:block;color:var(--text-faded);margin:-1.5rem 0 1.5rem}.note{display:block;background-color:var(--background-faded);border-left:4px solid var(--text-success);font-size:1.1rem;margin:1.5rem 0;padding:.5rem 2rem 1rem 1.5rem}.note.alert{background-color:var(--background-failure);border-left-color:var(--text-failure)}.note p:last-child{margin-bottom:0}.note-title{color:var(--text-success);font-weight:bold}.alert .note-title{color:var(--text-failure)}.post-footer{border-top:1px solid var(--border);display:flex;justify-content:space-between;padding:1em}.back-link,.top-link{align-items:center;background-color:var(--background-faded);border:1px solid var(--border);border-radius:3px;color:var(--text);display:flex;padding:.5em 1em .5em 1.25em;text-decoration:none}.back-link:hover,.back-link:focus,.top-link:hover,.top-link:focus{background-color:var(--background-inverse);color:var(--text-inverse)}.back-link::before,.top-link::before{content:"";border-left:2px solid currentColor;border-bottom:2px solid currentColor;display:inline-block;height:.5em;transform:translateX(-0.25em) rotate(45deg);width:.5em}.top-link::before{transform:translateX(-0.4em) rotate(135deg)}/*# sourceMappingURL=site.css.map */
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="profile-info">
        <img src="/assets/sarah-avatar.svg" role="img" alt="Illustrated avatar of Sarah with a cat" class="profile-pic">
        Sarah Higley
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="/" >Home</a></li>
          <li><a href="/writing" class="active" aria-current="page">Writing</a></li>
          <li><a href="/speaking"  >Speaking</a></li>
        </ul>
      </nav>
    </header>

    <main class="main">
      <h1 class="page-title" id="page-top">forced-color-adjust: none is an unavoidable foot gun</h1>

      
  <div class="meta">September 17, 2025</div>
  <p>Over the past seven (?!) years at Microsoft, high contrast styles have been a surprisingly consistent source of accessibility issues from partner teams. The surprise is because other common sources of bugs that bubble up to me tend to be either technically complex (e.g. live regions, focus management, assistive tech behavior), or theoretically complex (understanding semantics, assistive tech behavior). In contrast (heh), high contrast styles tend to be relatively simple and more easily understood by non-accessibility-focused devs since they involve relatively straightforward CSS.</p>
<p>There are two exceptions that cause non-trivial issues to arise:</p>
<ol>
<li>SVGs (written about more in <a href="https://css-tricks.com/accessible-svgs-high-contrast-mode/">Eric Bailey's article</a>)</li>
<li>Sprinkling <code>forced-color-adjust: none</code> throughout a codebase like cloves in biryani. They may sometimes be helpful, but stumbling across one unexpectedly can make you gag.</li>
</ol>
<p>This post is aimed at anyone working in an environment with multiple other developers or development teams while needing to maintain a codebase over time. If: you lovingly handcraft all your styles, and everyone who contributes is familiar with all CSS in the codebase, <em>and</em> this stays true both now and in perpetuity, then this probably won't be a problem.</p>
<p>However if you, like me, work in a large and chaotic system where code you write is copied, consumed, customized, and maintained away from your control by many other people, then it is a matter of <em>when</em> and not <em>if</em> a <code>forced-color-adjust: none</code> style will cause high contrast mode bugs.</p>
<h2 id="the-problem">The problem</h2>
<p>By default, forced color modes work by converting UI from author-defined colors into a reduced palette of system colors based on HTML semantics, not authored CSS. Static text will adopt a <code>CanvasText</code> color against a <code>Canvas</code> background. Buttons will use <code>ButtonText</code> on <code>ButtonFace</code>, and disabled controls will have content and borders appear as <code>GrayText</code>.</p>
<figure>
  <img src="/writing/assets/hcm-colors.png" alt="Two side-by-side screenshots of the same content, in and out of high contrast mode. The content is a heading, paragraph text, a button, a link, and a disabled text input. THe high contrast screenshot shows a dark blueish background, light beige text, a teal button, blue link, and grey input.">
  <figcaption>Some basic content in and out of Windows high contrast mode, with no CSS overrides. The right screenshot shows a customized high contrast theme.</figcaption>
</figure>
<p>Even though this is how it works <em>by default</em>, it is still possible to override the default styles and customize forced color styles for both good and evil. There are a few ways to go about this:</p>
<ol>
<li>
<p>Intentionally create transparent borders or outlines, knowing they'll only show up in forced colors mode. (This and some other tips are covered in my <a href="/writing/whcm-quick-tips/">Quick Tips for High Contrast Mode</a> article)</p>
</li>
<li>
<p>Using a forced colors mode media query, tweak styles using system color keywords:</p>
</li>
</ol>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">.primary-button</span> <span class="token punctuation">{</span><br>    <span class="token property">border-color</span><span class="token punctuation">:</span> Highlight<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>(note this only works with system color keywords, other colors will not be rendered without <code>forced-color-adjust: none</code>)</p>
<ol start="3">
<li>Use a forced colors mode media query with <code>forced-color-adjust: none</code> to completely control colors, ideally still using system colors:</li>
</ol>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>    <span class="token property">forced-color-adjust</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> Highlight<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> HighlightText<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>So the question you, a savvy reader, may already be asking is: if system color keywords work without needing <code>forced-color-adjust: none</code>, then why include it in that third example?</p>
<p>The reason is because of an unspec'd (unspecced? unspec'èd?) browser behavior: text backplates. In what appears to be a well-intended attempt to save authors from themselves, browsers render a solid-colored backplate to any text over a styled background (this happens with backgrounds on the same element or on ancestor elements). The color of this backplate is <code>Canvas</code>, regardless of the text color.</p>
<p>So if you want to have, for example, a toggle button that inverts colors when pressed, you might start with this CSS:</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> Highlight<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> HighlightText<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>And you would end up with this:</p>
<p><img src="/writing/assets/hcm-text-backplate.png" alt="A screenshot of two buttons. The top clearly says an unpressed toggle button in light blue text on a dark button. The second button has unreadable dark blue text on a dark rectangle within a light blue button"></p>
<p>That cursed second button says &quot;A pressed toggle button&quot; for those of you who do not have perfect vision and did not press your eyeball against the screen.</p>
<p>Adding a backplate does make sense and provide a safeguard for readability in some situations: text over images, for example:</p>
<figure>
  <img src="/writing/assets/hcm-image-text-backplate.png" alt="Two lines of text overlaid on a brightly colored photo of a curious siamese cat approaching the camera against a blurred outside background of a yurt, some people, and a sunny day. The text is a heading saying Cats are cool, and a smaller line saying and some subtitle text too, I guess.">
  <figcaption>This is pretty useful, and I believe images were the original use case for text backplates.</figcaption>
</figure>
<p>However, adding a <code>Canvas</code> backplate for text that has an explicit (system) <code>color</code> style is risky at best, even more so when an explicit (system) background color was also provided. The use of system color keywords presumably in a forced-colors media query already implies a certain amount of intentionality from the author, so dealing with a text backplate often feels like fighting with the browser over who can deliver better colors to the user.</p>
<p>Additionally, the backplate is fully outside web authors' control, and the only thing we can do to fix it is add <code>forced-color-adjust: none</code>:</p>
<p><img src="/writing/assets/hcm-correct-button-colors.png" alt="The same two buttons. Now the second button looks just fine, with dark text on a light blue background."></p>
<p>And then weep.</p>
<h2 id="wait%2C-why-are-we-crying%3F">Wait, why are we crying?</h2>
<p>The problem with adding <code>forced-color-adjust: none</code> is that it allows <em>all</em> CSS-styled colors to come through on that element, not just system colors. So even if you (a responsible developer who cares enough about accessibility to have stumbled on this blog) craft beautifully accessible forced-colors CSS using only system color keywords, someone else may come along and unintentionally screw it up. Usually without ever knowing that they affected high contrast mode styles at all.</p>
<p>It looks a bit like this:</p>
<p>Your code: beautiful, lovely, perfect.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>    <span class="token property">forced-color-adjust</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> Highlight<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> HighlightText<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Their code: terrible. (But if we're being honest this is perfectly normal and reasonable)</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.custom-button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> purple<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Since the addition of a <code>.custom-button</code> class creates a higher specificity style, it overrides the original style even though it's outside a forced-colors media query and clearly not intended to affect high contrast mode. And because of the original <code>forced-color-adjust: none</code>, the random red and purple colors come through:</p>
<figure>
  <img src="/writing/assets/hcm-color-override.png" alt="The same two buttons. This time, the second button has a bright red background with purple text.">
  <figcaption>Sorry about the unhinged color choice, that one's on me.</figcaption>
</figure>
<p>In a collaborative environment, someone somewhere will always take your code and extend or customize it. Often this involves writing styles with a higher specificity selector. Or even a same-specificity selector that comes after your CSS. None of the code involved is unusual or bad practice, which makes it all the worse that it trips up so spectacularly and unpredictably on <code>forced-color-adjust: none</code>.</p>
<p>Individual bugs are fixable, but the downstream CSS author has to manually re-add the forced-color styles back in. Which means the author of that code needs to be aware that this is necessary, even though they themselves never touched or directly overrode forced-colors styles:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.custom-button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> purple<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">forced-colors</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">.custom-button[aria-pressed=true]</span> <span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> Highlight<span class="token punctuation">;</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> HighlightText<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Authors are especially unlikely to realize when they need this, because most of the time they don't. And in practice, web authors should not need to be aware of this level of minutiae when making small style tweaks. If you're the unlucky schmuck maintaining this stuff, good luck trying to keep up-to-date documentation on which specific selectors will need forced-color styles re-asserted every time they are customized.</p>
<p>The library I work on consistently gets a trickle of high contrast questions from partner teams that are caused by variations of this issue. And those are just the ones that get caught. Changing the colors of a shared base control is the most common style customization out there, and every single use of <code>forced-color-adjust: none</code> is one CSS line away from breaking in high contrast.</p>
<h2 id="ok-i-get-it%2C-i-just-won't-use-it">OK I get it, I just won't use it</h2>
<p>So if <code>forced-color-adjust: none</code> is a foot gun, is it possible to avoid it?</p>
<p>No.</p>
<p>Well, I suppose it could be possible for projects that have fairly simple controls and content, but usually no. Here is a reduced list of use cases for overriding colors off the top of my head:</p>
<ul>
<li>A primary button style to differentiate the primary action from secondary actions (e.g. for Save / Cancel buttons)</li>
<li>The pressed state of a toggle button</li>
<li>The selected date of a datepicker</li>
<li>Many other selected item styles (tabs, options, rows in a grid, etc.)</li>
<li>Highlighting the current page in a navigation section</li>
</ul>
<p>Some of those could potentially use a design that doesn't rely on color at all (e.g. using a check icon to denote selection), but in practice at least sometimes you will need custom high contrast text colors. In theory, putting effort into high contrast styles is a good practice that can improve the user experience quite a bit, making it easier to identify buttons, selected items, and other visual cues at a glance.</p>
<p>In practice, doing so also makes the high contrast UX much more fragile and likely to break over time. And since this is accessibility, the bugs will likely go uncaught for a frustrating length of time as well.</p>
<h2 id="so-what-should-we-do%3F">So what should we do?</h2>
<p>Cry. Drink. Drunk cry.</p>
<p>But really, it's still probably good to customize high contrast colors when needed, which means you'll need to use <code>forced-color-adjust: none</code> sometimes. Try to keep those instances both infrequent and tightly scoped. Never add <code>forced-color-adjust</code> at a higher level than you need to. And if it's only necessary in one state (e.g. hover or pressed), only add it to that state.</p>
<p>Perhaps someday text backplates will go away (at least for non-image backgrounds) and we can all stop using <code>forced-color-adjust: none</code> entirely. (Except for those weird instances like color pickers where you actually want it. Please don't @ me with your random good use cases, I know they exist.)</p>


  <div class="post-footer">
    <a href="/writing" class="back-link">All Posts</a>
    <a href="#page-top" class="top-link">Back to top</a>
  </div>

    </main>
  </div>
</body>
</html>
